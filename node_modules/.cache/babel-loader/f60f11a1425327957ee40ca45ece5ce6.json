{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\library\\helpers\\refreshtoken.js","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\library\\helpers\\refreshtoken.js","mtime":1614083118668},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0VydHVncnVsU2VuL0Rlc2t0b3AvdmlzdWFsIFN0dWRpbyBQcm9qZWN0L0Fza0RlZmluZXhGcm9udEVuZC9hc2tkZWZpbmV4LXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGNvbmZpZ1N0b3JlIGZyb20gJy4vY29uZmlnU3RvcmUnOwppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZnVuY3Rpb24gcmVmcmVzaFRva2VuKCkgewogIHJldHVybiBfcmVmcmVzaFRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9yZWZyZXNoVG9rZW4oKSB7CiAgX3JlZnJlc2hUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gewogICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBBeGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgIHVybDogKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBjb25maWdTdG9yZS5zZXR0aW5ncy5wdWJsaXNoVXJsIDogY29uZmlnU3RvcmUuc2V0dGluZ3MubG9jYWxVcmwpICsgJ0F1dGhlbnRpY2F0aW9uL1JlZnJlc2hBY2Nlc3NUb2tlbi8nLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWZyZXNodG9rZW4nKSwKICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3N0b2tlbicpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzdG9rZW4nLCByZXNwb25zZS5kYXRhLlJlc3BvbnNlLkFjY2Vzc1Rva2VuKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNodG9rZW4nLCByZXNwb25zZS5kYXRhLlJlc3BvbnNlLlJlZnJlc2hUb2tlbik7CiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIC8vIGJ1cmRhIGtpIGVycm9yIGlraW5jaSBwcm9taXNlIG5pbiByZWplY3QnaW5kZSB5YWthbGFuxLF5b3IKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfcmVmcmVzaFRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["C:/Users/ErtugrulSen/Desktop/visual Studio Project/AskDefinexFrontEnd/askdefinex-ui/src/library/helpers/refreshtoken.js"],"names":["configStore","Axios","refreshToken","Promise","resolve","reject","headers","Accept","method","url","process","env","NODE_ENV","settings","publishUrl","localUrl","data","localStorage","getItem","accessToken","then","response","setItem","Response","AccessToken","RefreshToken","catch","error","console","log"],"mappings":";;;AAAA,OAAOA,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,gBAAsBC,YAAtB;AAAA;AAAA;;;0EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6CACE,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,kBAAMC,OAAO,GAAG;AAAEC,gBAAAA,MAAM,EAAE,kBAAV;AAA8B,gCAAgB;AAA9C,eAAhB;AAEAN,cAAAA,KAAK,CAAC;AACJO,gBAAAA,MAAM,EAAE,MADJ;AAEJC,gBAAAA,GAAG,EAAE,CAACC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCZ,WAAW,CAACa,QAAZ,CAAqBC,UAA7D,GAA0Ed,WAAW,CAACa,QAAZ,CAAqBE,QAAhG,IAA4G,oCAF7G;AAGJC,gBAAAA,IAAI,EAAE;AAAEd,kBAAAA,YAAY,EAAEe,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAhB;AAAsDC,kBAAAA,WAAW,EAAEF,YAAY,CAACC,OAAb,CAAqB,aAArB;AAAnE,iBAHF;AAIJZ,gBAAAA,OAAO,EAAEA;AAJL,eAAD,CAAL,CAKGc,IALH,CAKQ,UAAUC,QAAV,EAAoB;AAC1BJ,gBAAAA,YAAY,CAACK,OAAb,CAAqB,aAArB,EAAoCD,QAAQ,CAACL,IAAT,CAAcO,QAAd,CAAuBC,WAA3D;AACAP,gBAAAA,YAAY,CAACK,OAAb,CAAqB,cAArB,EAAqCD,QAAQ,CAACL,IAAT,CAAcO,QAAd,CAAuBE,YAA5D;AAEArB,gBAAAA,OAAO,CAACiB,QAAD,CAAP;AACD,eAVD,EAWGK,KAXH,CAWS,UAAAC,KAAK,EAAI;AACd;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAtB,gBAAAA,MAAM,CAACsB,KAAD,CAAN;AACD,eAfH;AAgBD,aAnBM,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import configStore from './configStore'\r\nimport Axios from 'axios'\r\n\r\nexport async function refreshToken () {\r\n  return new Promise((resolve, reject) => {\r\n    const headers = { Accept: 'application/json', 'Content-Type': 'application/json' }\r\n\r\n    Axios({\r\n      method: 'post',\r\n      url: (process.env.NODE_ENV === 'production' ? configStore.settings.publishUrl : configStore.settings.localUrl) + 'Authentication/RefreshAccessToken/',\r\n      data: { refreshToken: localStorage.getItem('refreshtoken'), accessToken: localStorage.getItem('accesstoken') },\r\n      headers: headers\r\n    }).then(function (response) {\r\n      localStorage.setItem('accesstoken', response.data.Response.AccessToken)\r\n      localStorage.setItem('refreshtoken', response.data.Response.RefreshToken)\r\n\r\n      resolve(response)\r\n    })\r\n      .catch(error => {\r\n        // burda ki error ikinci promise nin reject'inde yakalanÄ±yor\r\n        console.log(error)\r\n        reject(error)\r\n      })\r\n  })\r\n}\r\n"]}]}