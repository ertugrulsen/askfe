{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\views\\pages\\questionDetail\\questionDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\views\\pages\\questionDetail\\questionDetail.vue","mtime":1615592727966},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7DQppbXBvcnQgeyBERUxFVEVfUVVFU1RJT04sIEdFVF9RVUVTVElPTl9CWV9JRCwgQ0xPU0VfUVVFU1RJT04gfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9hY3Rpb25zL3F1ZXN0aW9uJw0KaW1wb3J0IGR4Rm9ybVRleHRJbnB1dCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2N1c3RvbWNvbnRyb2xzL2R4SW5wdXQvZHhGb3JtVGV4dElucHV0L2R4Rm9ybVRleHRJbnB1dCcNCmltcG9ydCBkeEZvcm1UZXh0YXJlYUlucHV0IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvY3VzdG9tY29udHJvbHMvZHhJbnB1dC9keEZvcm1UZXh0YXJlYUlucHV0L2R4Rm9ybVRleHRhcmVhSW5wdXQnDQppbXBvcnQgY29tbWVudHMgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb21tZW50cy9jb21tZW50cycNCmltcG9ydCBhbnN3ZXJzIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5zd2Vycy9hbnN3ZXJzJw0KaW1wb3J0IHZvdGVzIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvdm90ZXMvdm90ZXMudnVlJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnUXVlc3Rpb25EZXRhaWwnLA0KICBkYXRhKCl7DQogICAgcmV0dXJuIHsNCiAgICAgIHF1ZXN0aW9uOiB7fSwNCiAgICAgIGFjdGl2ZVVzZXI6JycsDQogICAgICBvdmVybGF5OmZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOnsNCiAgICBkeEZvcm1UZXh0YXJlYUlucHV0LA0KICAgIGR4Rm9ybVRleHRJbnB1dCwNCiAgICBjb21tZW50cywNCiAgICBhbnN3ZXJzLA0KICAgIHZvdGVzDQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuZ2V0UXVlc3Rpb24oKTsNCiAgICB0aGlzLmFjdGl2ZVVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykpLlVzZXJJZDogJyc7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRRdWVzdGlvbjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5hbGxRdWVzdGlvbiA9IFtdOw0KICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZTsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKEdFVF9RVUVTVElPTl9CWV9JRCx7aWQ6dGhpcy4kcm91dGUucXVlcnkuaWR9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5xdWVzdGlvbi5kYXRhLlJlc3BvbnNlLkNyZWF0ZURhdGUgPXRoaXMuZm9ybWF0RGF0ZSh0aGlzLiRzdG9yZS5nZXR0ZXJzLnF1ZXN0aW9uLmRhdGEuUmVzcG9uc2UuQ3JlYXRlRGF0ZSk7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOw0KICAgICAgICBjb25zdCBxdWVzdGlvbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMucXVlc3Rpb24uZGF0YS5SZXNwb25zZTsNCiAgICAgICAgLy8gYW5zd2VycyBkYXRlDQogICAgICAgIHF1ZXN0aW9uLkFuc3dlckxpc3QuZm9yRWFjaChhbnN3ZXIgPT4gew0KICAgICAgICAgIGFuc3dlci5DcmVhdGVEYXRlID0gdGhpcy5mb3JtYXREYXRlKGFuc3dlci5DcmVhdGVEYXRlKQ0KICAgICAgICAgIC8vIGFuc3dlciA+IGNvbW1lbnQNCiAgICAgICAgICBhbnN3ZXIuQ29tbWVudExpc3QuZm9yRWFjaChjb21tZW50ID0+ew0KICAgICAgICAgICAgY29tbWVudC5DcmVhdGVEYXRlID0gdGhpcy5mb3JtYXREYXRlKGNvbW1lbnQuQ3JlYXRlRGF0ZSkNCiAgICAgICAgICB9KQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvL3F1ZXN0aW9uID4gY29tbWVudA0KICAgICAgICBxdWVzdGlvbi5Db21tZW50TGlzdC5mb3JFYWNoKGNvbSA9PiB7DQogICAgICAgICAgY29tLkNyZWF0ZURhdGUgPSB0aGlzLmZvcm1hdERhdGUoY29tLkNyZWF0ZURhdGUpDQogICAgICAgIH0pDQogICAgICAgIC8vIGZpbGwgcXVlc3Rpb24NCiAgICAgICAgdGhpcy5xdWVzdGlvbiA9IHRoaXMuJHN0b3JlLmdldHRlcnMucXVlc3Rpb24uZGF0YS5SZXNwb25zZTsNCiAgICAgIH0pDQogICAgfSwNCiAgICBmb3JtYXREYXRlKGRhdGUpew0KICAgICAgcmV0dXJuIG1vbWVudChTdHJpbmcoZGF0ZSkpLmZvcm1hdCgnREQvTU0vWVlZWScpDQogICAgfSwNCiAgICBkZWxldGVRdWVzdGlvbigpew0KICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZTsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKERFTEVURV9RVUVTVElPTiwgdGhpcy5nZXRQYXJhbXMoKSkudGhlbihyZXNwb25zZSA9PiB7IA0KICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZTsgICANCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQ0KICAgICAgfSkuY2F0Y2goZXJyb3JDb2RlID0+IHsgdGhpcy5vdmVybGF5ID0gZmFsc2U7dGhpcy4kZGlhbG9nLmFsZXJ0KHRoaXMuR2V0RXJyb3JNZXNzYWdlKHRoaXMsIGVycm9yQ29kZSksIHRoaXMuYWxlcnRvcHRpb25zKSB9KQ0KICAgIH0sDQogICAgcGFzaXZlUXVlc3Rpb24oKXsNCiAgICAgIHRoaXMub3ZlcmxheSA9IHRydWU7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChDTE9TRV9RVUVTVElPTiwgdGhpcy5nZXRQYXJhbXMoKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOw0KICAgICAgICB0aGlzLmdldFF1ZXN0aW9uKCkgDQogICAgICB9KS5jYXRjaChlcnJvckNvZGUgPT4geyB0aGlzLm92ZXJsYXkgPSBmYWxzZTt0aGlzLiRkaWFsb2cuYWxlcnQodGhpcy5HZXRFcnJvck1lc3NhZ2UodGhpcywgZXJyb3JDb2RlKSwgdGhpcy5hbGVydG9wdGlvbnMpIH0pDQogICAgfSwNCiAgICBnZXRQYXJhbXMoKXsNCiAgICAgIHJldHVybiB7SWQ6cGFyc2VJbnQodGhpcy4kcm91dGUucXVlcnkuaWQpLElzQWN0aXZlOnRoaXMucXVlc3Rpb24uSXNBY3RpdmV9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["questionDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"questionDetail.vue","sourceRoot":"src/views/pages/questionDetail","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card elevation=\"2\" class=\"pt-4\">\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <votes v-bind:type=\"1\" v-bind:parent=\"this.question\"/>\r\n          <v-card-title class=\"pl-9\"><h5>{{question.Header}}</h5></v-card-title>\r\n        </v-col>\r\n        <v-col cols=\"12\" class=\"pb-0 text-right\">\r\n          <div class=\"d-inline pa-2\">{{question.CreateUser}}, {{question.CreateDate}}</div>\r\n          <v-btn v-if=\"activeUser == question.UserId\" icon v-on:click=\"deleteQuestion()\">\r\n            <v-icon> mdi-minus-circle</v-icon>\r\n          </v-btn>\r\n          <v-btn v-if=\"activeUser == question.UserId\" icon v-on:click=\"pasiveQuestion()\">\r\n            <v-icon> mdi-lock</v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" class=\"quill-container\">\r\n          <div class=\"detail\" v-html=\"question.Detail\"></div>\r\n        </v-col>\r\n        <v-col cols=\"12\" class=\"mx-0 \">\r\n          <v-divider></v-divider>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" class=\"pt-0\">\r\n          <comments v-bind:type=\"1\" v-if=\"this.question.Id\" v-bind:parent=\"this.question.Id.toString()\" v-bind:comments=\"this.question.CommentList\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n    <answers v-if=\"this.question.Id\" v-bind:parent=\"this.question.Id.toString()\" v-bind:answers=\"this.question.AnswerList\" />\r\n    <v-overlay :value=\"overlay\">\r\n      <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n    </v-overlay>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport { DELETE_QUESTION, GET_QUESTION_BY_ID, CLOSE_QUESTION } from '../../../store/actions/question'\r\nimport dxFormTextInput from '../../../components/customcontrols/dxInput/dxFormTextInput/dxFormTextInput'\r\nimport dxFormTextareaInput from '../../../components/customcontrols/dxInput/dxFormTextareaInput/dxFormTextareaInput'\r\nimport comments from '../../../components/comments/comments'\r\nimport answers from '../../../components/answers/answers'\r\nimport votes from '../../../components/votes/votes.vue';\r\n\r\nexport default {\r\n  name: 'QuestionDetail',\r\n  data(){\r\n    return {\r\n      question: {},\r\n      activeUser:'',\r\n      overlay:false\r\n    }\r\n  },\r\n  components:{\r\n    dxFormTextareaInput,\r\n    dxFormTextInput,\r\n    comments,\r\n    answers,\r\n    votes\r\n  },\r\n  created () {\r\n    this.getQuestion();\r\n    this.activeUser = localStorage.getItem('currentUser') ? JSON.parse(localStorage.getItem('currentUser')).UserId: '';\r\n  },\r\n  methods: {\r\n    getQuestion: function () {\r\n      this.allQuestion = [];\r\n      this.overlay = true;\r\n      this.$store.dispatch(GET_QUESTION_BY_ID,{id:this.$route.query.id}).then(() => {\r\n        this.$store.getters.question.data.Response.CreateDate =this.formatDate(this.$store.getters.question.data.Response.CreateDate);\r\n        this.overlay = false;\r\n        const question = this.$store.getters.question.data.Response;\r\n        // answers date\r\n        question.AnswerList.forEach(answer => {\r\n          answer.CreateDate = this.formatDate(answer.CreateDate)\r\n          // answer > comment\r\n          answer.CommentList.forEach(comment =>{\r\n            comment.CreateDate = this.formatDate(comment.CreateDate)\r\n          })\r\n        });\r\n\r\n        //question > comment\r\n        question.CommentList.forEach(com => {\r\n          com.CreateDate = this.formatDate(com.CreateDate)\r\n        })\r\n        // fill question\r\n        this.question = this.$store.getters.question.data.Response;\r\n      })\r\n    },\r\n    formatDate(date){\r\n      return moment(String(date)).format('DD/MM/YYYY')\r\n    },\r\n    deleteQuestion(){\r\n      this.overlay = true;\r\n      this.$store.dispatch(DELETE_QUESTION, this.getParams()).then(response => { \r\n        this.overlay = false;   \r\n        this.$router.push('/')\r\n      }).catch(errorCode => { this.overlay = false;this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    pasiveQuestion(){\r\n      this.overlay = true;\r\n      this.$store.dispatch(CLOSE_QUESTION, this.getParams()).then(response => {\r\n        this.overlay = false;\r\n        this.getQuestion() \r\n      }).catch(errorCode => { this.overlay = false;this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    getParams(){\r\n      return {Id:parseInt(this.$route.query.id),IsActive:this.question.IsActive}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.detail-text{\r\n  margin: 10px;\r\n  width: calc(100% - 22px);\r\n}\r\n.vote-icon{\r\n  position: absolute !important;\r\n}\r\n.down{\r\n  top:53px;\r\n}\r\n.up{\r\n  top:10px\r\n}\r\n.disable-down{\r\n  cursor: no-drop !important;\r\n}\r\n.disable-up{\r\n  cursor: no-drop !important;\r\n}\r\n.votes{\r\n  position: absolute;\r\n  top: 30px;\r\n  text-align: center;\r\n  width: 36px;\r\n}\r\n.detail{\r\n padding: 10px 20px;\r\n}\r\n</style>"]}]}