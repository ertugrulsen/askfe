{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\votes\\votes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\votes\\votes.vue","mtime":1615731941177},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBRVUVTVElPTl9WT1RFX1VQLCBRVUVTVElPTl9WT1RFX0RPV04gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zL3F1ZXN0aW9uJw0KaW1wb3J0IHsgVk9URV9VUCwgVk9URV9ET1dOIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy9hbnN3ZXInDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd2b3RlcycsDQogIHByb3BzOiB7DQogICAgcGFyZW50OiB7DQogICAgICB0eXBlOiBPYmplY3QNCiAgICB9LA0KICAgIHR5cGU6IHsNCiAgICAgIHR5cGU6IE51bWJlcg0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgew0KICAgIHRoaXMuYWN0aXZlVXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcicpID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSkuVXNlcklkIDogJycNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlucHV0OiBmYWxzZSwNCiAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgZG93bkNsYXNzOiAndm90ZS1pY29uIGRvd24nLA0KICAgICAgdXBDbGFzczogJ3ZvdGUtaWNvbiB1cCcsDQogICAgICBkaXNhYmxlRG93bjogZmFsc2UsDQogICAgICBkaXNhYmxlVXA6IGZhbHNlDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogIC8vIG1ldG9kcw0KICAgIGJpbmREb3duQ2xhc3M6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmRpc2FibGVEb3duID09PSB0cnVlKSB7DQogICAgICAgIHJldHVybiAnZGlzYWJsZS1kb3duICcgKyB0aGlzLmRvd25DbGFzcw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gdGhpcy5kb3duQ2xhc3MNCiAgICB9LA0KICAgIGJpbmRVcENsYXNzOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5kaXNhYmxlVXAgPT09IHRydWUpIHsNCiAgICAgICAgcmV0dXJuICdkaXNhYmxlLXVwICcgKyB0aGlzLnVwQ2xhc3MNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIHRoaXMudXBDbGFzcw0KICAgIH0sDQogICAgVXBWb3RlOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAodGhpcy5kaXNhYmxlVXAgPT09IHRydWUpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQoNCiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7DQogICAgICAgIElkOiB0aGlzLnBhcmVudC5JZA0KICAgICAgfQ0KDQogICAgICB0aGlzLmRpc2FibGVVcCA9IHRydWUNCiAgICAgIC8vIHR5cGUgPSAxIHF1ZXN0aW9uLCB0eXBlID0gMiBhbnN3ZXINCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHRoaXMuZ2V0VXJsKCd1cCcpLCByZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5wYXJlbnQuVXBWb3RlcysrDQoNCiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZURvd24gPT09IHRydWUpIHsNCiAgICAgICAgICB0aGlzLmRpc2FibGVEb3duID0gZmFsc2UNCiAgICAgICAgICB0aGlzLnBhcmVudC5VcFZvdGVzKysNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZXJyb3JDb2RlID0+IHsgdGhpcy4kZGlhbG9nLmFsZXJ0KHRoaXMuR2V0RXJyb3JNZXNzYWdlKHRoaXMsIGVycm9yQ29kZSksIHRoaXMuYWxlcnRvcHRpb25zKSB9KQ0KICAgIH0sDQogICAgRG93blZvdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLmRpc2FibGVEb3duID09PSB0cnVlKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICBjb25zdCByZXF1ZXN0ID0gew0KICAgICAgICBJZDogdGhpcy5wYXJlbnQuSWQNCiAgICAgIH0NCg0KICAgICAgdGhpcy5kaXNhYmxlRG93biA9IHRydWUNCiAgICAgIC8vIHR5cGUgPSAxIHF1ZXN0aW9uLCB0eXBlID0gMiBhbnN3ZXINCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHRoaXMuZ2V0VXJsKCdkb3duJyksIHJlcXVlc3QpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnBhcmVudC5Eb3duVm90ZXMrKw0KDQogICAgICAgIGlmICh0aGlzLmRpc2FibGVVcCA9PT0gdHJ1ZSkgew0KICAgICAgICAgIHRoaXMuZGlzYWJsZVVwID0gZmFsc2UNCiAgICAgICAgICB0aGlzLnBhcmVudC5Eb3duVm90ZXMrKw0KICAgICAgICB9DQogICAgICB9KS5jYXRjaChlcnJvckNvZGUgPT4geyB0aGlzLiRkaWFsb2cuYWxlcnQodGhpcy5HZXRFcnJvck1lc3NhZ2UodGhpcywgZXJyb3JDb2RlKSwgdGhpcy5hbGVydG9wdGlvbnMpIH0pDQogICAgfSwNCiAgICBnZXRVcmw6IGZ1bmN0aW9uIChwYXJhbSkgew0KICAgICAgLy8gdXANCiAgICAgIGlmIChwYXJhbSA9PT0gJ3VwJykgew0KICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSAxID8gUVVFU1RJT05fVk9URV9VUCA6IFZPVEVfVVANCiAgICAgIH0NCiAgICAgIC8vIGRvd24NCiAgICAgIHJldHVybiB0aGlzLnR5cGUgPT09IDEgPyBRVUVTVElPTl9WT1RFX0RPV04gOiBWT1RFX0RPV04NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["votes.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"votes.vue","sourceRoot":"src/components/votes","sourcesContent":["<template>\r\n  <v-row v-if=\"activeUser\">\r\n    <v-col cols=\"12\" >\r\n      <v-icon :class=\"bindDownClass()\" small @click=\"DownVote\">fas fa-thumbs-down</v-icon>\r\n      <div class=\"votes\">{{parent.UpVotes-parent.DownVotes}}</div>\r\n      <v-icon :class=\"bindUpClass()\" small @click=\"UpVote\" >fas fa-thumbs-up</v-icon>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n<script>\r\nimport { QUESTION_VOTE_UP, QUESTION_VOTE_DOWN } from '../../store/actions/question'\r\nimport { VOTE_UP, VOTE_DOWN } from '../../store/actions/answer'\r\nexport default {\r\n  name: 'votes',\r\n  props: {\r\n    parent: {\r\n      type: Object\r\n    },\r\n    type: {\r\n      type: Number\r\n    }\r\n  },\r\n  created: function () {\r\n    this.activeUser = localStorage.getItem('currentUser') ? JSON.parse(localStorage.getItem('currentUser')).UserId : ''\r\n  },\r\n  data () {\r\n    return {\r\n      input: false,\r\n      valid: true,\r\n      downClass: 'vote-icon down',\r\n      upClass: 'vote-icon up',\r\n      disableDown: false,\r\n      disableUp: false\r\n    }\r\n  },\r\n  methods: {\r\n  // metods\r\n    bindDownClass: function () {\r\n      if (this.disableDown === true) {\r\n        return 'disable-down ' + this.downClass\r\n      }\r\n\r\n      return this.downClass\r\n    },\r\n    bindUpClass: function () {\r\n      if (this.disableUp === true) {\r\n        return 'disable-up ' + this.upClass\r\n      }\r\n\r\n      return this.upClass\r\n    },\r\n    UpVote: function () {\r\n      if (this.disableUp === true) {\r\n        return\r\n      }\r\n\r\n      const request = {\r\n        Id: this.parent.Id\r\n      }\r\n\r\n      this.disableUp = true\r\n      // type = 1 question, type = 2 answer\r\n      this.$store.dispatch(this.getUrl('up'), request).then(response => {\r\n        this.parent.UpVotes++\r\n\r\n        if (this.disableDown === true) {\r\n          this.disableDown = false\r\n          this.parent.UpVotes++\r\n        }\r\n      }).catch(errorCode => { this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    DownVote: function () {\r\n      if (this.disableDown === true) {\r\n        return\r\n      }\r\n\r\n      const request = {\r\n        Id: this.parent.Id\r\n      }\r\n\r\n      this.disableDown = true\r\n      // type = 1 question, type = 2 answer\r\n      this.$store.dispatch(this.getUrl('down'), request).then(response => {\r\n        this.parent.DownVotes++\r\n\r\n        if (this.disableUp === true) {\r\n          this.disableUp = false\r\n          this.parent.DownVotes++\r\n        }\r\n      }).catch(errorCode => { this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    getUrl: function (param) {\r\n      // up\r\n      if (param === 'up') {\r\n        return this.type === 1 ? QUESTION_VOTE_UP : VOTE_UP\r\n      }\r\n      // down\r\n      return this.type === 1 ? QUESTION_VOTE_DOWN : VOTE_DOWN\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}