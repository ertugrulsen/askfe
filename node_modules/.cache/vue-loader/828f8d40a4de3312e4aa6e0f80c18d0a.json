{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\votes\\votes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\votes\\votes.vue","mtime":1615592727937},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBRVUVTVElPTl9WT1RFX1VQLCBRVUVTVElPTl9WT1RFX0RPV04gfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zL3F1ZXN0aW9uJw0KaW1wb3J0IHsgVk9URV9VUCwgVk9URV9ET1dOIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucy9hbnN3ZXInDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd2b3RlcycsDQogIHByb3BzOnsNCiAgICBwYXJlbnQ6ew0KICAgICAgdHlwZTpPYmplY3QNCiAgICB9LA0KICAgIHR5cGU6ew0KICAgICAgdHlwZTpOdW1iZXINCiAgICB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpbnB1dDogZmFsc2UsDQogICAgICB2YWxpZDp0cnVlLCANCiAgICAgIGRvd25DbGFzczondm90ZS1pY29uIGRvd24nLA0KICAgICAgdXBDbGFzczondm90ZS1pY29uIHVwJywNCiAgICAgIGRpc2FibGVEb3duOmZhbHNlLA0KICAgICAgZGlzYWJsZVVwOmZhbHNlDQogICAgfQ0KICB9LCAgDQogIG1ldGhvZHM6ew0KICAvL21ldG9kcw0KICBiaW5kRG93bkNsYXNzOiBmdW5jdGlvbiAoKSB7DQogICAgaWYodGhpcy5kaXNhYmxlRG93biA9PT0gdHJ1ZSl7DQogICAgICByZXR1cm4gJ2Rpc2FibGUtZG93biAnICsgdGhpcy5kb3duQ2xhc3MNCiAgICB9DQoNCiAgICByZXR1cm4gdGhpcy5kb3duQ2xhc3MNCiAgfSwNCiAgYmluZFVwQ2xhc3M6IGZ1bmN0aW9uICgpIHsNCiAgICBpZih0aGlzLmRpc2FibGVVcCA9PT0gdHJ1ZSl7DQogICAgICByZXR1cm4gJ2Rpc2FibGUtdXAgJyArIHRoaXMudXBDbGFzcw0KICAgIH0NCg0KICAgIHJldHVybiB0aGlzLnVwQ2xhc3MNCiAgfSwNCiAgICBVcFZvdGUgOiBmdW5jdGlvbiAoKSB7DQogICAgICBpZih0aGlzLmRpc2FibGVVcCA9PT0gdHJ1ZSl7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KDQogICAgICBsZXQgcmVxdWVzdCA9IHsNCiAgICAgICAgSWQ6IHRoaXMucGFyZW50LklkDQogICAgICB9Ow0KICAgICAgDQogICAgICB0aGlzLmRpc2FibGVVcD0gdHJ1ZTsNCiAgICAgIC8vIHR5cGUgPSAxIHF1ZXN0aW9uLCB0eXBlID0gMiBhbnN3ZXINCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKHRoaXMuZ2V0VXJsKCJ1cCIpLCByZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLnBhcmVudC5VcFZvdGVzKys7DQoNCiAgICAgICAgICBpZih0aGlzLmRpc2FibGVEb3duID09PSB0cnVlKXsNCiAgICAgICAgICAgIHRoaXMuZGlzYWJsZURvd249ZmFsc2U7DQogICAgICAgICAgICB0aGlzLnBhcmVudC5VcFZvdGVzKys7DQogICAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZXJyb3JDb2RlID0+IHsgdGhpcy4kZGlhbG9nLmFsZXJ0KHRoaXMuR2V0RXJyb3JNZXNzYWdlKHRoaXMsIGVycm9yQ29kZSksIHRoaXMuYWxlcnRvcHRpb25zKSB9KQ0KICAgIH0sDQogICAgRG93blZvdGUgOiBmdW5jdGlvbiAoKXsNCiAgICAgIGlmKHRoaXMuZGlzYWJsZURvd24gPT09IHRydWUpew0KICAgICAgICByZXR1cm4gDQogICAgICB9DQoNCiAgICAgIGxldCByZXF1ZXN0ID0gew0KICAgICAgICBJZDogdGhpcy5wYXJlbnQuSWQNCiAgICAgIH07DQoNCiAgICAgIHRoaXMuZGlzYWJsZURvd24gPSB0cnVlDQogICAgICAvLyB0eXBlID0gMSBxdWVzdGlvbiwgdHlwZSA9IDIgYW5zd2VyDQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCh0aGlzLmdldFVybCgiZG93biIpLCByZXF1ZXN0KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLnBhcmVudC5Eb3duVm90ZXMrKzsNCg0KICAgICAgICAgIGlmKHRoaXMuZGlzYWJsZVVwID09PSB0cnVlKXsNCiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVVwPWZhbHNlOw0KICAgICAgICAgICAgdGhpcy5wYXJlbnQuRG93blZvdGVzKys7DQogICAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZXJyb3JDb2RlID0+IHsgdGhpcy4kZGlhbG9nLmFsZXJ0KHRoaXMuR2V0RXJyb3JNZXNzYWdlKHRoaXMsIGVycm9yQ29kZSksIHRoaXMuYWxlcnRvcHRpb25zKSB9KQ0KICAgIH0sDQogICAgZ2V0VXJsOiBmdW5jdGlvbihwYXJhbSl7DQogICAgICAvL3VwDQogICAgICBpZihwYXJhbSA9PT0gInVwIil7DQogICAgICAgIHJldHVybiB0aGlzLnR5cGUgPT0gIjEiID8gUVVFU1RJT05fVk9URV9VUCA6IFZPVEVfVVANCiAgICAgIH0NCiAgICAgIC8vZG93bg0KICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PSAiMSIgPyBRVUVTVElPTl9WT1RFX0RPV04gOiBWT1RFX0RPV04NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["votes.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"votes.vue","sourceRoot":"src/components/votes","sourcesContent":["<template> \r\n  <v-row>\r\n    <v-col cols=\"12\" >\r\n      <v-icon :class=\"bindDownClass()\" small @click=\"DownVote\">fas fa-thumbs-down</v-icon>\r\n      <div class=\"votes\">{{parent.UpVotes-parent.DownVotes}}</div>\r\n      <v-icon :class=\"bindUpClass()\" small @click=\"UpVote\" >fas fa-thumbs-up</v-icon> \r\n    </v-col>        \r\n  </v-row>\r\n</template>\r\n<script>\r\nimport { QUESTION_VOTE_UP, QUESTION_VOTE_DOWN } from '../../store/actions/question'\r\nimport { VOTE_UP, VOTE_DOWN } from '../../store/actions/answer'\r\nexport default {\r\n  name: 'votes',\r\n  props:{\r\n    parent:{\r\n      type:Object\r\n    },\r\n    type:{\r\n      type:Number\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      input: false,\r\n      valid:true, \r\n      downClass:'vote-icon down',\r\n      upClass:'vote-icon up',\r\n      disableDown:false,\r\n      disableUp:false\r\n    }\r\n  },  \r\n  methods:{\r\n  //metods\r\n  bindDownClass: function () {\r\n    if(this.disableDown === true){\r\n      return 'disable-down ' + this.downClass\r\n    }\r\n\r\n    return this.downClass\r\n  },\r\n  bindUpClass: function () {\r\n    if(this.disableUp === true){\r\n      return 'disable-up ' + this.upClass\r\n    }\r\n\r\n    return this.upClass\r\n  },\r\n    UpVote : function () {\r\n      if(this.disableUp === true){\r\n        return\r\n      }\r\n\r\n      let request = {\r\n        Id: this.parent.Id\r\n      };\r\n      \r\n      this.disableUp= true;\r\n      // type = 1 question, type = 2 answer\r\n      this.$store.dispatch(this.getUrl(\"up\"), request).then(response => {\r\n          this.parent.UpVotes++;\r\n\r\n          if(this.disableDown === true){\r\n            this.disableDown=false;\r\n            this.parent.UpVotes++;\r\n          }\r\n      }).catch(errorCode => { this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    DownVote : function (){\r\n      if(this.disableDown === true){\r\n        return \r\n      }\r\n\r\n      let request = {\r\n        Id: this.parent.Id\r\n      };\r\n\r\n      this.disableDown = true\r\n      // type = 1 question, type = 2 answer\r\n      this.$store.dispatch(this.getUrl(\"down\"), request).then(response => {\r\n          this.parent.DownVotes++;\r\n\r\n          if(this.disableUp === true){\r\n            this.disableUp=false;\r\n            this.parent.DownVotes++;\r\n          }\r\n      }).catch(errorCode => { this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    getUrl: function(param){\r\n      //up\r\n      if(param === \"up\"){\r\n        return this.type == \"1\" ? QUESTION_VOTE_UP : VOTE_UP\r\n      }\r\n      //down\r\n      return this.type == \"1\" ? QUESTION_VOTE_DOWN : VOTE_DOWN\r\n    }\r\n  }\r\n}\r\n</script>"]}]}