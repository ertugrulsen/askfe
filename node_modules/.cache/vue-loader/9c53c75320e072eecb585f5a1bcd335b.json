{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\partialpages\\management\\ttManagementRoleAdd\\ttManagementRoleAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\partialpages\\management\\ttManagementRoleAdd\\ttManagementRoleAdd.vue","mtime":1614083118653},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBMT0FEX1VTRVIsIEFERF9ST0xFLCBVUERBVEVfVVNFUiB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL2FjdGlvbnMvbWFuYWdlbWVudCcNCmltcG9ydCBFdmVudEJ1cyBmcm9tICcuLi8uLi8uLi8uLi9saWJyYXJ5L2hlbHBlcnMvZXZlbnRidXMnDQppbXBvcnQgZHhGb3JtQ2hlY2tib3hJbnB1dCBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2N1c3RvbWNvbnRyb2xzL2R4SW5wdXQvZHhGb3JtQ2hlY2tib3hJbnB1dC9keEZvcm1DaGVja2JveElucHV0Jw0KaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0dE1hbmFnZW1lbnRSb2xlQWRkJywNCiAgcHJvcHM6IHsNCiAgICB2aXNpYmxlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBkeEZvcm1DaGVja2JveElucHV0LA0KICAgIGR4Rm9ybVRleHRJbnB1dDogKCkgPT4NCiAgICAgIGltcG9ydCgnLi4vLi4vLi4vY3VzdG9tY29udHJvbHMvZHhJbnB1dC9keEZvcm1UZXh0SW5wdXQvZHhGb3JtVGV4dElucHV0JykNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgdXNlcklzVmFsaWQ6IHRydWUsDQogICAgICBzZWxlY3RlZFVzZXJzOiBbXSwNCiAgICAgIHVzZXJEYXRhOiBbDQogICAgICAgIHsNCiAgICAgICAgICBJRDogMSwNCiAgICAgICAgICBOYW1lOiAnRXJkaW7DpycsDQogICAgICAgICAgU3VyTmFtZTogJ0RFxJ7EsFJNRU5DxLAnLA0KICAgICAgICAgIFVzZXJuYW1lOiAnRUQnLA0KICAgICAgICAgIFVzZXJUeXBlOiAnQWRtaW4nLA0KICAgICAgICAgIFJvbGVzOiAnUm9sZTEnLA0KICAgICAgICAgIFN0YXR1OiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBJRDogMiwNCiAgICAgICAgICBOYW1lOiAnRW1yZScsDQogICAgICAgICAgU3VyTmFtZTogJ1NPTFVHQU4nLA0KICAgICAgICAgIFVzZXJuYW1lOiAnRVMnLA0KICAgICAgICAgIFVzZXJUeXBlOiAnQWRtaW4nLA0KICAgICAgICAgIFJvbGVzOiAnUm9sZTInLA0KICAgICAgICAgIFN0YXR1OiBmYWxzZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgSUQ6IDMsDQogICAgICAgICAgTmFtZTogJ051cnVsbGFoJywNCiAgICAgICAgICBTdXJOYW1lOiAnVFVSS1lJTE1BWicsDQogICAgICAgICAgVXNlcm5hbWU6ICdOVCcsDQogICAgICAgICAgVXNlclR5cGU6ICdBZG1pbicsDQogICAgICAgICAgUm9sZXM6ICdSb2xlMycsDQogICAgICAgICAgU3RhdHU6IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIElEOiA0LA0KICAgICAgICAgIE5hbWU6ICdNZWhtZXQnLA0KICAgICAgICAgIFN1ck5hbWU6ICdLQVJMSScsDQogICAgICAgICAgVXNlcm5hbWU6ICdNSycsDQogICAgICAgICAgVXNlclR5cGU6ICdBZG1pbicsDQogICAgICAgICAgUm9sZXM6ICdSb2xlNCcsDQogICAgICAgICAgU3RhdHU6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBJRDogNSwNCiAgICAgICAgICBOYW1lOiAnRGVmaW5leCcsDQogICAgICAgICAgU3VyTmFtZTogJ0RlZmluZXgnLA0KICAgICAgICAgIFVzZXJuYW1lOiAnREQnLA0KICAgICAgICAgIFVzZXJUeXBlOiAnQWRtaW4nLA0KICAgICAgICAgIFJvbGVzOiAnUm9sZTUnLA0KICAgICAgICAgIFN0YXR1OiB0cnVlDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBJRDogNiwNCiAgICAgICAgICBOYW1lOiAnRGVmaW5leCcsDQogICAgICAgICAgU3VyTmFtZTogJ0RlZmluZXgnLA0KICAgICAgICAgIFVzZXJuYW1lOiAnREQnLA0KICAgICAgICAgIFVzZXJUeXBlOiAnQWRtaW4nLA0KICAgICAgICAgIFJvbGVzOiAnUm9sZTYnLA0KICAgICAgICAgIFN0YXR1OiB0cnVlDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICByb2xlTW9kZWw6IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIGRlc2NyaXB0aW9uOiAnJw0KICAgICAgfSwNCiAgICAgIGFsZXJ0b3B0aW9uczogew0KICAgICAgICBva1RleHQ6ICdUYW1hbScNCiAgICAgIH0sDQogICAgICBpc1N1Ym1pdHRlZDogZmFsc2UNCiAgICB9DQogIH0sDQogIHZhbGlkYXRpb25zOiB7DQogICAgcm9sZU1vZGVsOiB7DQogICAgICBuYW1lOiB7DQogICAgICAgIHJlcXVpcmVkDQogICAgICB9LA0KICAgICAgZGVzY3JpcHRpb246IHsNCiAgICAgICAgcmVxdWlyZWQNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuR2V0VXNlcnMoKQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBFdmVudEJ1cy5HZXRFdmVudEJ1cygpLiRvbignY2hhbmdlLXVzZXItbGlzdCcsICgpID0+IHsNCiAgICAgIHRoaXMuR2V0VXNlcnMoKQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXR1cm5Sb2xlczogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jbGVhcigpDQogICAgICB0aGlzLiRlbWl0KCdyZXR1cm4tcm9sZXMnKQ0KICAgICAgRXZlbnRCdXMuRW1pdE1ldGhvZCgncmVmcmVzaC1yb2xlLXRhYmxlJykNCiAgICB9LA0KICAgIGhhbmRsZVN1Ym1pdCAoKSB7DQogICAgICB0aGlzLmlzU3VibWl0dGVkID0gdHJ1ZQ0KDQogICAgICB0aGlzLiR2LiR0b3VjaCgpDQogICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgew0KICAgICAgICB0aGlzLmlzU3VibWl0dGVkID0gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIGNsZWFyICgpIHsNCiAgICAgIHRoaXMucm9sZU1vZGVsID0gW10NCiAgICAgIHRoaXMuc2VsZWN0ZWRVc2VycyA9IFtdDQogICAgICB0aGlzLkdldFVzZXJzKCkNCiAgICB9LA0KICAgIFNhdmVSb2xlOiBmdW5jdGlvbiAocm9sZU1vZGVsKSB7DQogICAgICBpZiAoIXRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRVc2Vycy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy51c2VySXNWYWxpZCA9IGZhbHNlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnVzZXJJc1ZhbGlkID0gdHJ1ZQ0KICAgICAgfQ0KDQogICAgICBjb25zdCByb2xlQXJlYU1vZGVsID0gew0KICAgICAgICB2YWx1ZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMCksDQogICAgICAgIG5hbWU6IHRoaXMucm9sZU1vZGVsLm5hbWUsDQogICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnJvbGVNb2RlbC5kZXNjcmlwdGlvbiwNCiAgICAgICAgaXNhY3RpdmU6IHRydWUsDQogICAgICAgIHVzZXJzOiB0aGlzLnNlbGVjdGVkVXNlcnMNCiAgICAgIH0NCg0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goQUREX1JPTEUsIHJvbGVBcmVhTW9kZWwpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRkaWFsb2cNCiAgICAgICAgICAuYWxlcnQoDQogICAgICAgICAgICB0aGlzLkdldE1lc3NhZ2UodGhpcywgJ29wZXJhdGlvbl9zdWNjZXNzJyksDQogICAgICAgICAgICB0aGlzLmFsZXJ0b3B0aW9ucw0KICAgICAgICAgICkNCiAgICAgICAgICAudGhlbigoZGlhbG9nKSA9PiB7DQogICAgICAgICAgICBpZiAocm9sZUFyZWFNb2RlbC51c2Vycy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgICAgdGhpcy5yZXR1cm5Sb2xlcygpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgIH0pDQoNCiAgICAgIGlmIChyb2xlQXJlYU1vZGVsLnVzZXJzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb2xlQXJlYU1vZGVsLnVzZXJzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgcm9sZUFyZWFNb2RlbC51c2Vyc1tpXS5yb2xlcy5wdXNoKHJvbGVBcmVhTW9kZWwpDQogICAgICAgICAgY29uc3QgdXNlckFyZWFNb2RlbCA9IHsNCiAgICAgICAgICAgIHZhbHVlOiByb2xlQXJlYU1vZGVsLnVzZXJzW2ldLnZhbHVlLA0KICAgICAgICAgICAgbmFtZTogcm9sZUFyZWFNb2RlbC51c2Vyc1tpXS5uYW1lLA0KICAgICAgICAgICAgc3VybmFtZTogcm9sZUFyZWFNb2RlbC51c2Vyc1tpXS5zdXJuYW1lLA0KICAgICAgICAgICAgdXNlcm5hbWU6IHJvbGVBcmVhTW9kZWwudXNlcnNbaV0udXNlcm5hbWUsDQogICAgICAgICAgICB1c2VyVHlwZTogcm9sZUFyZWFNb2RlbC51c2Vyc1tpXS51c2VyVHlwZSwNCiAgICAgICAgICAgIGlzYWN0aXZlOiB0cnVlLA0KICAgICAgICAgICAgcm9sZXM6IHJvbGVBcmVhTW9kZWwudXNlcnNbaV0ucm9sZXMNCiAgICAgICAgICB9DQogICAgICAgICAgY29uc29sZS5sb2codXNlckFyZWFNb2RlbCkNCiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChVUERBVEVfVVNFUiwgdXNlckFyZWFNb2RlbCkudGhlbigoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnJldHVyblJvbGVzKCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBHZXRVc2VyczogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goTE9BRF9VU0VSKS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy51c2VyRGF0YSA9IFtdDQogICAgICAgIHRoaXMuJHN0b3JlLmdldHRlcnMudXNlckRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4gew0KICAgICAgICAgIHRoaXMudXNlckRhdGEucHVzaChlbGVtZW50KQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNldENoZWNrZWQ6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgbGV0IG1hdGNoSXRlbSA9IGZhbHNlDQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRVc2Vycy5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFVzZXJzW2ldID09PSB2YWx1ZSkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRVc2Vycy5zcGxpY2UoaSwgMSkNCiAgICAgICAgICBtYXRjaEl0ZW0gPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICghbWF0Y2hJdGVtKSB7DQogICAgICAgIHRoaXMuc2VsZWN0ZWRVc2Vycy5wdXNoKA0KICAgICAgICAgIHRoaXMudXNlckRhdGFbdGhpcy51c2VyRGF0YS5maW5kSW5kZXgoKHgpID0+IHgudmFsdWUgPT09IHZhbHVlKV0NCiAgICAgICAgKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["ttManagementRoleAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ttManagementRoleAdd.vue","sourceRoot":"src/components/partialpages/management/ttManagementRoleAdd","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"scene\" id=\"management__group__add\" :class=\"{ active: visible }\">\r\n      <div class=\"part equal white-bg short-label\">\r\n        <h4>{{ GetLabel(this, \"management_users_new_role\") }}</h4>\r\n        <v-container>\r\n          <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n            <v-col cols=\"12\" sm=\"8\">\r\n              <dxFormTextInput\r\n                ref=\"roleNameRef\"\r\n                type=\"text\"\r\n                v-model=\"roleModel.name\"\r\n                placeholder=\"management_role_name\"\r\n                :clear=\"true\"\r\n                :isRequired=\"true\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"12\" sm=\"8\">\r\n              <dxFormTextInput\r\n                ref=\"roleDescRef\"\r\n                type=\"text\"\r\n                v-model=\"roleModel.description\"\r\n                placeholder=\"management_role_description\"\r\n                :clear=\"true\"\r\n                :isRequired=\"true\"\r\n              />\r\n            </v-col>\r\n            <div class=\"form__section align-top\">\r\n              <label for=\"Kullanıcılar\" class=\"input-label\">\r\n                <strong>{{ GetLabel(this, \"users\") }}</strong>\r\n              </label>\r\n              <div class=\"label-side\">\r\n                <template v-if=\"userData.length > 0\">\r\n                  <div v-for=\"(user, i) in userData\" :key=\"i\">\r\n                    <dxFormCheckboxInput\r\n                      :label=\"user.Name + ' ' + user.SurName\"\r\n                      name=\"Kullanıcı\"\r\n                      :value=\"user.value\"\r\n                      :checked=\"false\"\r\n                      @input=\"setChecked(user.value)\"\r\n                    />\r\n                  </div>\r\n                </template>\r\n                <label v-else for=\"notFoundUser\">{{ GetLabel(this, \"user_not_found\") }}.</label>\r\n                <span v-if=\"!userIsValid\" class=\"form-text text-danger\">*{{ GetLabel(this, \"required_field\") }}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form__button-group left-side\">\r\n              <v-col cols=\"12\" sm=\"6\"> </v-col>\r\n               <v-btn :disabled=\"!valid\" class=\"btn mt-4 btn-primary\" color=\"btn-block\" text @click=\"SaveRole\">{{GetLabel(this, \"save\")}}</v-btn>\r\n              <v-btn class=\"btn mt-4 btn-secondary\" color=\"white\" text @click=\"returnRoles\" >{{ GetLabel(this, \"cancel\") }}</v-btn>\r\n            </div>\r\n          </v-form>\r\n        </v-container>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { LOAD_USER, ADD_ROLE, UPDATE_USER } from '../../../../store/actions/management'\r\nimport EventBus from '../../../../library/helpers/eventbus'\r\nimport dxFormCheckboxInput from '../../../../components/customcontrols/dxInput/dxFormCheckboxInput/dxFormCheckboxInput'\r\nimport { required } from 'vuelidate/lib/validators'\r\nexport default {\r\n  name: 'ttManagementRoleAdd',\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    dxFormCheckboxInput,\r\n    dxFormTextInput: () =>\r\n      import('../../../customcontrols/dxInput/dxFormTextInput/dxFormTextInput')\r\n  },\r\n  data () {\r\n    return {\r\n      valid: true,\r\n      userIsValid: true,\r\n      selectedUsers: [],\r\n      userData: [\r\n        {\r\n          ID: 1,\r\n          Name: 'Erdinç',\r\n          SurName: 'DEĞİRMENCİ',\r\n          Username: 'ED',\r\n          UserType: 'Admin',\r\n          Roles: 'Role1',\r\n          Statu: true\r\n        },\r\n        {\r\n          ID: 2,\r\n          Name: 'Emre',\r\n          SurName: 'SOLUGAN',\r\n          Username: 'ES',\r\n          UserType: 'Admin',\r\n          Roles: 'Role2',\r\n          Statu: false\r\n        },\r\n        {\r\n          ID: 3,\r\n          Name: 'Nurullah',\r\n          SurName: 'TURKYILMAZ',\r\n          Username: 'NT',\r\n          UserType: 'Admin',\r\n          Roles: 'Role3',\r\n          Statu: true\r\n        },\r\n        {\r\n          ID: 4,\r\n          Name: 'Mehmet',\r\n          SurName: 'KARLI',\r\n          Username: 'MK',\r\n          UserType: 'Admin',\r\n          Roles: 'Role4',\r\n          Statu: false\r\n        },\r\n        {\r\n          ID: 5,\r\n          Name: 'Definex',\r\n          SurName: 'Definex',\r\n          Username: 'DD',\r\n          UserType: 'Admin',\r\n          Roles: 'Role5',\r\n          Statu: true\r\n        },\r\n        {\r\n          ID: 6,\r\n          Name: 'Definex',\r\n          SurName: 'Definex',\r\n          Username: 'DD',\r\n          UserType: 'Admin',\r\n          Roles: 'Role6',\r\n          Statu: true\r\n        }\r\n      ],\r\n      roleModel: {\r\n        name: '',\r\n        description: ''\r\n      },\r\n      alertoptions: {\r\n        okText: 'Tamam'\r\n      },\r\n      isSubmitted: false\r\n    }\r\n  },\r\n  validations: {\r\n    roleModel: {\r\n      name: {\r\n        required\r\n      },\r\n      description: {\r\n        required\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.GetUsers()\r\n  },\r\n  mounted () {\r\n    EventBus.GetEventBus().$on('change-user-list', () => {\r\n      this.GetUsers()\r\n    })\r\n  },\r\n  methods: {\r\n    returnRoles: function () {\r\n      this.clear()\r\n      this.$emit('return-roles')\r\n      EventBus.EmitMethod('refresh-role-table')\r\n    },\r\n    handleSubmit () {\r\n      this.isSubmitted = true\r\n\r\n      this.$v.$touch()\r\n      if (this.$v.$invalid) {\r\n        this.isSubmitted = false\r\n      }\r\n    },\r\n    clear () {\r\n      this.roleModel = []\r\n      this.selectedUsers = []\r\n      this.GetUsers()\r\n    },\r\n    SaveRole: function (roleModel) {\r\n      if (!this.$refs.form.validate()) {\r\n        return\r\n      }\r\n      if (this.selectedUsers.length === 0) {\r\n        this.userIsValid = false\r\n      } else {\r\n        this.userIsValid = true\r\n      }\r\n\r\n      const roleAreaModel = {\r\n        value: Math.floor(Math.random() * 1000),\r\n        name: this.roleModel.name,\r\n        description: this.roleModel.description,\r\n        isactive: true,\r\n        users: this.selectedUsers\r\n      }\r\n\r\n      this.$store.dispatch(ADD_ROLE, roleAreaModel).then(() => {\r\n        this.$dialog\r\n          .alert(\r\n            this.GetMessage(this, 'operation_success'),\r\n            this.alertoptions\r\n          )\r\n          .then((dialog) => {\r\n            if (roleAreaModel.users.length === 0) {\r\n              this.returnRoles()\r\n            }\r\n          })\r\n      })\r\n\r\n      if (roleAreaModel.users.length > 0) {\r\n        for (let i = 0; i < roleAreaModel.users.length; i++) {\r\n          roleAreaModel.users[i].roles.push(roleAreaModel)\r\n          const userAreaModel = {\r\n            value: roleAreaModel.users[i].value,\r\n            name: roleAreaModel.users[i].name,\r\n            surname: roleAreaModel.users[i].surname,\r\n            username: roleAreaModel.users[i].username,\r\n            userType: roleAreaModel.users[i].userType,\r\n            isactive: true,\r\n            roles: roleAreaModel.users[i].roles\r\n          }\r\n          console.log(userAreaModel)\r\n          this.$store.dispatch(UPDATE_USER, userAreaModel).then(() => {\r\n            this.returnRoles()\r\n          })\r\n        }\r\n      }\r\n    },\r\n    GetUsers: function () {\r\n      this.$store.dispatch(LOAD_USER).then(() => {\r\n        this.userData = []\r\n        this.$store.getters.userData.forEach((element) => {\r\n          this.userData.push(element)\r\n        })\r\n      })\r\n    },\r\n    setChecked: function (value) {\r\n      let matchItem = false\r\n      for (var i = 0; i < this.selectedUsers.length; i++) {\r\n        if (this.selectedUsers[i] === value) {\r\n          this.selectedUsers.splice(i, 1)\r\n          matchItem = true\r\n        }\r\n      }\r\n      if (!matchItem) {\r\n        this.selectedUsers.push(\r\n          this.userData[this.userData.findIndex((x) => x.value === value)]\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}