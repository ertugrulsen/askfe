{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\partialpages\\management\\ttManagementUserAdd\\ttManagementUserAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\components\\partialpages\\management\\ttManagementUserAdd\\ttManagementUserAdd.vue","mtime":1614083118656},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBMT0FEX1JPTEVTLCBBRERfVVNFUiwgVVBEQVRFX1JPTEUgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9hY3Rpb25zL21hbmFnZW1lbnQnDQppbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi4vLi4vLi4vLi4vbGlicmFyeS9oZWxwZXJzL2V2ZW50YnVzJw0KaW1wb3J0IGR4Rm9ybUNoZWNrYm94SW5wdXQgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9jdXN0b21jb250cm9scy9keElucHV0L2R4Rm9ybUNoZWNrYm94SW5wdXQvZHhGb3JtQ2hlY2tib3hJbnB1dCcNCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAndHRNYW5hZ2VtZW50VXNlckFkZCcsDQogIHByb3BzOiB7DQogICAgdmlzaWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgZHhGb3JtQ2hlY2tib3hJbnB1dCwNCiAgICBkeEZvcm1UZXh0SW5wdXQ6ICgpID0+IGltcG9ydCgnLi4vLi4vLi4vY3VzdG9tY29udHJvbHMvZHhJbnB1dC9keEZvcm1UZXh0SW5wdXQvZHhGb3JtVGV4dElucHV0JykNCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHZhbGlkOiB0cnVlLA0KICAgICAgcm9sZUlzVmFsaWQ6IHRydWUsDQogICAgICBzZWxlY3RlZFJvbGVzOiBbXSwNCiAgICAgIHJvbGVEYXRhOiBbDQogICAgICAgIHsNCiAgICAgICAgICBJRDogMSwNCiAgICAgICAgICBSb2xlTmFtZTogJ1JvbGUxJywNCiAgICAgICAgICBEZXNjcmlwdGlvbjogJ1JvbGUgRGVzY3JpcHRpb24nLA0KICAgICAgICAgIFVzZXJzOiAnRXJkaW7DpyBERcSexLBSTUVOQ8SwJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgSUQ6IDIsDQogICAgICAgICAgUm9sZU5hbWU6ICdSb2xlMicsDQogICAgICAgICAgRGVzY3JpcHRpb246ICdSb2xlIERlc2NyaXB0aW9uJywNCiAgICAgICAgICBVc2VyczogJ0VtcmUgU09MVUdBTicNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIElEOiAzLA0KICAgICAgICAgIFJvbGVOYW1lOiAnUm9sZTMnLA0KICAgICAgICAgIERlc2NyaXB0aW9uOiAnUm9sZSBEZXNjcmlwdGlvbicsDQogICAgICAgICAgVXNlcnM6ICdOdXJ1bGxhaCBUVVJLWUlMTUFaJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgSUQ6IDQsDQogICAgICAgICAgUm9sZU5hbWU6ICdSb2xlMycsDQogICAgICAgICAgRGVzY3JpcHRpb246ICdSb2xlIERlc2NyaXB0aW9uJywNCiAgICAgICAgICBVc2VyczogJ01laG1ldCBLQVJMSScNCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIHVzZXJNb2RlbDogew0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgc3VybmFtZTogJycsDQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgdXNlclR5cGU6ICcnLA0KICAgICAgICBpc2FjdGl2ZTogZmFsc2UsDQogICAgICAgIHJvbGVzOiB7DQogICAgICAgICAgcm9sZWlkOiAnJw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgYWxlcnRvcHRpb25zOiB7DQogICAgICAgIG9rVGV4dDogJ1RhbWFtJw0KICAgICAgfSwNCiAgICAgIGlzU3VibWl0dGVkOiBmYWxzZSwNCiAgICAgIGlzQ2hlY2tlZDogZmFsc2UNCiAgICB9DQogIH0sDQogIHZhbGlkYXRpb25zOiB7DQogICAgdXNlck1vZGVsOiB7DQogICAgICBuYW1lOiB7DQogICAgICAgIHJlcXVpcmVkDQogICAgICB9LA0KICAgICAgc3VybmFtZTogew0KICAgICAgICByZXF1aXJlZA0KICAgICAgfSwNCiAgICAgIHVzZXJuYW1lOiB7DQogICAgICAgIHJlcXVpcmVkDQogICAgICB9LA0KICAgICAgdXNlclR5cGU6IHsNCiAgICAgICAgcmVxdWlyZWQNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuR2V0Um9sZXMoKQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBFdmVudEJ1cy5HZXRFdmVudEJ1cygpLiRvbignY2hhbmdlLXJvbGUtbGlzdCcsICgpID0+IHsNCiAgICAgIHRoaXMuR2V0Um9sZXMoKQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByZXR1cm5Vc2VyczogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5jbGVhcigpDQogICAgICB0aGlzLiRlbWl0KCdyZXR1cm4tdXNlcnMnKQ0KICAgICAgRXZlbnRCdXMuRW1pdE1ldGhvZCgncmVmcmVzaC11c2VyLXRhYmxlJykNCiAgICAgIEV2ZW50QnVzLkVtaXRNZXRob2QoJ3JlZnJlc2gtcm9sZS10YWJsZScpDQogICAgfSwNCiAgICBoYW5kbGVTdWJtaXQgKCkgew0KICAgICAgdGhpcy5pc1N1Ym1pdHRlZCA9IHRydWUNCg0KICAgICAgdGhpcy4kdi4kdG91Y2goKQ0KICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsNCiAgICAgICAgdGhpcy5pc1N1Ym1pdHRlZCA9IGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBjbGVhciAoKSB7DQogICAgICB0aGlzLmlzU3VibWl0dGVkID0gdHJ1ZQ0KICAgICAgdGhpcy51c2VyTW9kZWwgPSBbXQ0KICAgICAgdGhpcy5zZWxlY3RlZFJvbGVzID0gW10NCiAgICAgIHRoaXMuR2V0Um9sZXMoKQ0KICAgIH0sDQogICAgU2F2ZVVzZXI6IGZ1bmN0aW9uICh1c2VyTW9kZWwpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAodGhpcy5zZWxlY3RlZFJvbGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICB0aGlzLnJvbGVJc1ZhbGlkID0gZmFsc2UNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMucm9sZUlzVmFsaWQgPSB0cnVlDQogICAgICB9DQogICAgICBpZiAoIXRoaXMuJHJlZnMudXNlck5hbWVSZWYudmFsaWRhdGUoKSB8fCAhdGhpcy4kcmVmcy51c2VyU3VybmFtZVJlZi52YWxpZGF0ZSgpIHx8ICF0aGlzLiRyZWZzLnVzZXJVc2VybmFtZVJlZi52YWxpZGF0ZSgpIHx8ICF0aGlzLiRyZWZzLnVzZXJVc2VyVHlwZVJlZi52YWxpZGF0ZSgpIHx8ICF0aGlzLnJvbGVJc1ZhbGlkKSB7DQogICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh0aGlzLkdldE1lc3NhZ2UodGhpcywgJ2ZpbGxfZW1wdHlfZmllbGRzJyksIHRoaXMuYWxlcnRvcHRpb25zKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIGNvbnN0IHVzZXJBcmVhTW9kZWwgPSB7DQogICAgICAgIHZhbHVlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSwNCiAgICAgICAgbmFtZTogdGhpcy51c2VyTW9kZWwubmFtZSwNCiAgICAgICAgc3VybmFtZTogdGhpcy51c2VyTW9kZWwuc3VybmFtZSwNCiAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlck1vZGVsLnVzZXJuYW1lLA0KICAgICAgICB1c2VyVHlwZTogdGhpcy51c2VyTW9kZWwudXNlclR5cGUsDQogICAgICAgIGlzYWN0aXZlOiAhdGhpcy51c2VyTW9kZWwuaXNhY3RpdmUsDQogICAgICAgIHJvbGVzOiB0aGlzLnNlbGVjdGVkUm9sZXMNCiAgICAgIH0NCg0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goQUREX1VTRVIsIHVzZXJBcmVhTW9kZWwpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQodGhpcy5HZXRNZXNzYWdlKHRoaXMsICdvcGVyYXRpb25fc3VjY2VzcycpLCB0aGlzLmFsZXJ0b3B0aW9ucykudGhlbihkaWFsb2cgPT4gew0KICAgICAgICAgIGlmICh1c2VyQXJlYU1vZGVsLnJvbGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgdGhpcy5yZXR1cm5Vc2VycygpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgfSkNCg0KICAgICAgaWYgKHVzZXJBcmVhTW9kZWwucm9sZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJBcmVhTW9kZWwucm9sZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICB1c2VyQXJlYU1vZGVsLnJvbGVzW2ldLnVzZXJzLnB1c2godXNlckFyZWFNb2RlbCkNCiAgICAgICAgICBjb25zdCByb2xlQXJlYU1vZGVsID0gew0KICAgICAgICAgICAgdmFsdWU6IHVzZXJBcmVhTW9kZWwucm9sZXNbaV0udmFsdWUsDQogICAgICAgICAgICBuYW1lOiB1c2VyQXJlYU1vZGVsLnJvbGVzW2ldLm5hbWUsDQogICAgICAgICAgICBkZXNjcmlwdGlvbjogdXNlckFyZWFNb2RlbC5yb2xlc1tpXS5kZXNjcmlwdGlvbiwNCiAgICAgICAgICAgIGlzYWN0aXZlOiB0cnVlLA0KICAgICAgICAgICAgdXNlcnM6IHVzZXJBcmVhTW9kZWwucm9sZXNbaV0udXNlcnMNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goVVBEQVRFX1JPTEUsIHJvbGVBcmVhTW9kZWwpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5yZXR1cm5Vc2VycygpDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgR2V0Um9sZXM6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKExPQURfUk9MRVMpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLnJvbGVEYXRhID0gW10NCiAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5yb2xlRGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4gew0KICAgICAgICAgIHRoaXMucm9sZURhdGEucHVzaChlbGVtZW50KQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNldENoZWNrZWQ6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgbGV0IG1hdGNoSXRlbSA9IGZhbHNlDQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0ZWRSb2xlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvbGVzW2ldID09PSB2YWx1ZSkgew0KICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlcy5zcGxpY2UoaSwgMSkNCiAgICAgICAgICBtYXRjaEl0ZW0gPSB0cnVlDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlmICghbWF0Y2hJdGVtKSB7DQogICAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlcy5wdXNoKHRoaXMucm9sZURhdGFbdGhpcy5yb2xlRGF0YS5maW5kSW5kZXgoeCA9PiB4LnZhbHVlID09PSB2YWx1ZSldKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["ttManagementUserAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ttManagementUserAdd.vue","sourceRoot":"src/components/partialpages/management/ttManagementUserAdd","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"scene\" id=\"management__user__add\" :class=\"{active :visible}\">\r\n        <div class=\"part equal white-bg short-label\">\r\n          <h4>{{ GetLabel(this, 'management_users_new_user') }}</h4>\r\n                <v-container>\r\n                  <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n                      <v-col cols=\"12\" sm=\"8\">\r\n                          <dxFormTextInput  ref=\"userNameRef\" type=\"text\" v-model=\"userModel.name\" placeholder=\"management_user_name\" :clear=\"true\" :isRequired=true />\r\n                      </v-col>\r\n                      <v-col cols=\"12\" sm=\"8\">\r\n                          <dxFormTextInput  type=\"text\" ref=\"userSurnameRef\" v-model=\"userModel.surname\" placeholder=\"management_user_surname\" :clear=\"true\" :isRequired=true />\r\n                     </v-col>\r\n                     <v-col cols=\"12\" sm=\"8\">\r\n                           <dxFormTextInput  type=\"text\" ref=\"userUsernameRef\" v-model=\"userModel.username\" placeholder=\"management_user_username\" :clear=\"true\" :isRequired=true />\r\n                     </v-col>\r\n                    <v-col cols=\"12\" sm=\"8\">\r\n                    <dxFormTextInput  type=\"text\" ref=\"userUserTypeRef\" v-model=\"userModel.userType\" placeholder=\"management_user_usertype\" :clear=\"true\" :isRequired=true />\r\n                    </v-col>\r\n              <div class=\"form__section align-top\">\r\n                <label for=\"Roller\" class=\"input-label\">\r\n                  <strong>{{GetLabel(this, \"roles\")}}</strong>\r\n                </label>\r\n                <div class=\"label-side\">\r\n                  <template v-if='roleData.length > 0'>\r\n                    <div v-for=\"(role, i) in roleData\" :key=\"i\">\r\n                      <dxFormCheckboxInput :label=\"role.RoleName\" name=\"Rol\" :value=\"role.value\" :checked=\"isChecked\" @input=\"setChecked(role.value)\"/>\r\n                      <label for=\"Rol\">{{role.name}}</label>\r\n                    </div>\r\n                  </template>\r\n                  <label v-else for=\"notFoundRole\">{{GetLabel(this, \"role_not_found\")}}</label>\r\n                  <span v-if=\"!roleIsValid\"  class=\"form-text text-danger\">*{{GetLabel(this, \"required_field\")}}</span>\r\n                </div>\r\n              </div>\r\n                 <v-col cols=\"4\" sm=\"2\">\r\n                 <dxFormCheckboxInput name=\"Aktif\" :label=\"GetLabel(this, 'active')\" :value=\"userModel.isactive\" v-model=\"userModel.isactive\" :checked=\"userModel.isactive\"/>\r\n                </v-col>\r\n                 <div class=\"form__button-group left-side\">\r\n                <v-col cols=\"12\" sm=\"6\">\r\n                  </v-col>\r\n                      <v-btn :disabled=\"!valid\" class=\"btn mt-4 btn-primary\" color=\"btn-block\" text @click=\"SaveUser\">{{GetLabel(this, \"save\")}}</v-btn>\r\n                    <v-btn class=\"btn mt-4 btn-secondary\" color=\"white\" text @click=\"returnUsers\"> {{GetLabel(this, \"cancel\")}}</v-btn>\r\n                </div>\r\n                  </v-form>\r\n            </v-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n</template>\r\n\r\n<script>\r\nimport { LOAD_ROLES, ADD_USER, UPDATE_ROLE } from '../../../../store/actions/management'\r\nimport EventBus from '../../../../library/helpers/eventbus'\r\nimport dxFormCheckboxInput from '../../../../components/customcontrols/dxInput/dxFormCheckboxInput/dxFormCheckboxInput'\r\nimport { required } from 'vuelidate/lib/validators'\r\nexport default {\r\n  name: 'ttManagementUserAdd',\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    dxFormCheckboxInput,\r\n    dxFormTextInput: () => import('../../../customcontrols/dxInput/dxFormTextInput/dxFormTextInput')\r\n  },\r\n  data () {\r\n    return {\r\n      valid: true,\r\n      roleIsValid: true,\r\n      selectedRoles: [],\r\n      roleData: [\r\n        {\r\n          ID: 1,\r\n          RoleName: 'Role1',\r\n          Description: 'Role Description',\r\n          Users: 'Erdinç DEĞİRMENCİ'\r\n        },\r\n        {\r\n          ID: 2,\r\n          RoleName: 'Role2',\r\n          Description: 'Role Description',\r\n          Users: 'Emre SOLUGAN'\r\n        },\r\n        {\r\n          ID: 3,\r\n          RoleName: 'Role3',\r\n          Description: 'Role Description',\r\n          Users: 'Nurullah TURKYILMAZ'\r\n        },\r\n        {\r\n          ID: 4,\r\n          RoleName: 'Role3',\r\n          Description: 'Role Description',\r\n          Users: 'Mehmet KARLI'\r\n        }\r\n      ],\r\n      userModel: {\r\n        name: '',\r\n        surname: '',\r\n        username: '',\r\n        userType: '',\r\n        isactive: false,\r\n        roles: {\r\n          roleid: ''\r\n        }\r\n      },\r\n      alertoptions: {\r\n        okText: 'Tamam'\r\n      },\r\n      isSubmitted: false,\r\n      isChecked: false\r\n    }\r\n  },\r\n  validations: {\r\n    userModel: {\r\n      name: {\r\n        required\r\n      },\r\n      surname: {\r\n        required\r\n      },\r\n      username: {\r\n        required\r\n      },\r\n      userType: {\r\n        required\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.GetRoles()\r\n  },\r\n  mounted () {\r\n    EventBus.GetEventBus().$on('change-role-list', () => {\r\n      this.GetRoles()\r\n    })\r\n  },\r\n  methods: {\r\n    returnUsers: function () {\r\n      this.clear()\r\n      this.$emit('return-users')\r\n      EventBus.EmitMethod('refresh-user-table')\r\n      EventBus.EmitMethod('refresh-role-table')\r\n    },\r\n    handleSubmit () {\r\n      this.isSubmitted = true\r\n\r\n      this.$v.$touch()\r\n      if (this.$v.$invalid) {\r\n        this.isSubmitted = false\r\n      }\r\n    },\r\n    clear () {\r\n      this.isSubmitted = true\r\n      this.userModel = []\r\n      this.selectedRoles = []\r\n      this.GetRoles()\r\n    },\r\n    SaveUser: function (userModel) {\r\n      if (!this.$refs.form.validate()) {\r\n        return\r\n      }\r\n      if (this.selectedRoles.length === 0) {\r\n        this.roleIsValid = false\r\n      } else {\r\n        this.roleIsValid = true\r\n      }\r\n      if (!this.$refs.userNameRef.validate() || !this.$refs.userSurnameRef.validate() || !this.$refs.userUsernameRef.validate() || !this.$refs.userUserTypeRef.validate() || !this.roleIsValid) {\r\n        this.$dialog.alert(this.GetMessage(this, 'fill_empty_fields'), this.alertoptions)\r\n        return\r\n      }\r\n      const userAreaModel = {\r\n        value: Math.floor(Math.random() * 1000),\r\n        name: this.userModel.name,\r\n        surname: this.userModel.surname,\r\n        username: this.userModel.username,\r\n        userType: this.userModel.userType,\r\n        isactive: !this.userModel.isactive,\r\n        roles: this.selectedRoles\r\n      }\r\n\r\n      this.$store.dispatch(ADD_USER, userAreaModel).then(() => {\r\n        this.$dialog.alert(this.GetMessage(this, 'operation_success'), this.alertoptions).then(dialog => {\r\n          if (userAreaModel.roles.length === 0) {\r\n            this.returnUsers()\r\n          }\r\n        })\r\n      })\r\n\r\n      if (userAreaModel.roles.length > 0) {\r\n        for (let i = 0; i < userAreaModel.roles.length; i++) {\r\n          userAreaModel.roles[i].users.push(userAreaModel)\r\n          const roleAreaModel = {\r\n            value: userAreaModel.roles[i].value,\r\n            name: userAreaModel.roles[i].name,\r\n            description: userAreaModel.roles[i].description,\r\n            isactive: true,\r\n            users: userAreaModel.roles[i].users\r\n          }\r\n          this.$store.dispatch(UPDATE_ROLE, roleAreaModel).then(() => {\r\n            this.returnUsers()\r\n          })\r\n        }\r\n      }\r\n    },\r\n    GetRoles: function () {\r\n      this.$store.dispatch(LOAD_ROLES).then(() => {\r\n        this.roleData = []\r\n        this.$store.getters.roleData.forEach(element => {\r\n          this.roleData.push(element)\r\n        })\r\n      })\r\n    },\r\n    setChecked: function (value) {\r\n      let matchItem = false\r\n      for (var i = 0; i < this.selectedRoles.length; i++) {\r\n        if (this.selectedRoles[i] === value) {\r\n          this.selectedRoles.splice(i, 1)\r\n          matchItem = true\r\n        }\r\n      }\r\n      if (!matchItem) {\r\n        this.selectedRoles.push(this.roleData[this.roleData.findIndex(x => x.value === value)])\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}