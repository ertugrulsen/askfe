{"remainingRequest":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\views\\pages\\questionDetail\\questionDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\src\\views\\pages\\questionDetail\\questionDetail.vue","mtime":1615731941209},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ErtugrulSen\\Desktop\\visual Studio Project\\AskDefinexFrontEnd\\askdefinex-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IERFTEVURV9RVUVTVElPTiwgR0VUX1FVRVNUSU9OX0JZX0lELCBDTE9TRV9RVUVTVElPTiB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL2FjdGlvbnMvcXVlc3Rpb24nDQppbXBvcnQgY29tbWVudHMgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9jb21tZW50cy9jb21tZW50cycNCmltcG9ydCBhbnN3ZXJzIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvYW5zd2Vycy9hbnN3ZXJzJw0KaW1wb3J0IHZvdGVzIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvdm90ZXMvdm90ZXMudnVlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdRdWVzdGlvbkRldGFpbCcsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBxdWVzdGlvbjoge30sDQogICAgICBhY3RpdmVVc2VyOiAnJywNCiAgICAgIG92ZXJsYXk6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgY29tbWVudHMsDQogICAgYW5zd2VycywNCiAgICB2b3Rlcw0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLmdldFF1ZXN0aW9uKCkNCiAgICB0aGlzLmFjdGl2ZVVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykpLlVzZXJJZCA6ICcnDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRRdWVzdGlvbjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5hbGxRdWVzdGlvbiA9IFtdDQogICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChHRVRfUVVFU1RJT05fQllfSUQsIHsgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRzdG9yZS5nZXR0ZXJzLnF1ZXN0aW9uLmRhdGEuUmVzcG9uc2UuQ3JlYXRlRGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLiRzdG9yZS5nZXR0ZXJzLnF1ZXN0aW9uLmRhdGEuUmVzcG9uc2UuQ3JlYXRlRGF0ZSkNCiAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2UNCiAgICAgICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnF1ZXN0aW9uLmRhdGEuUmVzcG9uc2UNCiAgICAgICAgLy8gYW5zd2VycyBkYXRlDQogICAgICAgIHF1ZXN0aW9uLkFuc3dlckxpc3QuZm9yRWFjaChhbnN3ZXIgPT4gew0KICAgICAgICAgIGFuc3dlci5DcmVhdGVEYXRlID0gdGhpcy5mb3JtYXREYXRlKGFuc3dlci5DcmVhdGVEYXRlKQ0KICAgICAgICAgIC8vIGFuc3dlciA+IGNvbW1lbnQNCiAgICAgICAgICBhbnN3ZXIuQ29tbWVudExpc3QuZm9yRWFjaChjb21tZW50ID0+IHsNCiAgICAgICAgICAgIGNvbW1lbnQuQ3JlYXRlRGF0ZSA9IHRoaXMuZm9ybWF0RGF0ZShjb21tZW50LkNyZWF0ZURhdGUpDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCg0KICAgICAgICAvLyBxdWVzdGlvbiA+IGNvbW1lbnQNCiAgICAgICAgcXVlc3Rpb24uQ29tbWVudExpc3QuZm9yRWFjaChjb20gPT4gew0KICAgICAgICAgIGNvbS5DcmVhdGVEYXRlID0gdGhpcy5mb3JtYXREYXRlKGNvbS5DcmVhdGVEYXRlKQ0KICAgICAgICB9KQ0KICAgICAgICAvLyBmaWxsIHF1ZXN0aW9uDQogICAgICAgIHRoaXMucXVlc3Rpb24gPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnF1ZXN0aW9uLmRhdGEuUmVzcG9uc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBmb3JtYXREYXRlIChkYXRlKSB7DQogICAgICByZXR1cm4gbW9tZW50KFN0cmluZyhkYXRlKSkuZm9ybWF0KCdERC9NTS9ZWVlZJykNCiAgICB9LA0KICAgIGRlbGV0ZVF1ZXN0aW9uICgpIHsNCiAgICAgIHRoaXMub3ZlcmxheSA9IHRydWUNCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKERFTEVURV9RVUVTVElPTiwgdGhpcy5nZXRQYXJhbXMoKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlDQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykNCiAgICAgIH0pLmNhdGNoKGVycm9yQ29kZSA9PiB7IHRoaXMub3ZlcmxheSA9IGZhbHNlOyB0aGlzLiRkaWFsb2cuYWxlcnQodGhpcy5HZXRFcnJvck1lc3NhZ2UodGhpcywgZXJyb3JDb2RlKSwgdGhpcy5hbGVydG9wdGlvbnMpIH0pDQogICAgfSwNCiAgICBwYXNpdmVRdWVzdGlvbiAoKSB7DQogICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChDTE9TRV9RVUVTVElPTiwgdGhpcy5nZXRQYXJhbXMoKSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlDQogICAgICAgIHRoaXMuZ2V0UXVlc3Rpb24oKQ0KICAgICAgfSkuY2F0Y2goZXJyb3JDb2RlID0+IHsgdGhpcy5vdmVybGF5ID0gZmFsc2U7IHRoaXMuJGRpYWxvZy5hbGVydCh0aGlzLkdldEVycm9yTWVzc2FnZSh0aGlzLCBlcnJvckNvZGUpLCB0aGlzLmFsZXJ0b3B0aW9ucykgfSkNCiAgICB9LA0KICAgIGdldFBhcmFtcyAoKSB7DQogICAgICByZXR1cm4geyBJZDogcGFyc2VJbnQodGhpcy4kcm91dGUucXVlcnkuaWQpLCBJc0FjdGl2ZTogdGhpcy5xdWVzdGlvbi5Jc0FjdGl2ZSB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["questionDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"questionDetail.vue","sourceRoot":"src/views/pages/questionDetail","sourcesContent":["<template>\r\n  <v-container>\r\n    <v-card elevation=\"2\" class=\"pt-4\">\r\n      <v-row>\r\n        <v-col cols=\"9\">\r\n          <votes v-bind:type=\"1\" v-bind:parent=\"this.question\"/>\r\n          <v-card-title class=\"pl-9\"><h5>{{question.Header}}</h5></v-card-title>\r\n        </v-col>\r\n        <v-col cols=\"3\" class=\"pb-0 text-right\">\r\n          <div class=\"d-block pa-3 text-right\">{{question.CreateUser}},  {{question.CreateDate}}</div>\r\n          <v-btn class=\"deleteQuestionBtn\" v-if=\"activeUser == question.UserId\" icon v-on:click=\"deleteQuestion()\">\r\n            <v-icon> mdi-minus-circle</v-icon>\r\n          </v-btn>\r\n          <v-btn v-if=\"activeUser == question.UserId\" icon v-on:click=\"pasiveQuestion()\">\r\n            <v-icon> mdi-lock</v-icon>\r\n          </v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" class=\"quill-container\">\r\n          <v-divider></v-divider>\r\n          <div class=\"detail\" v-html=\"question.Detail\"></div>\r\n        </v-col>\r\n        <v-col cols=\"12\" class=\"mx-0 \">\r\n          <v-divider></v-divider>\r\n        </v-col>\r\n      </v-row>\r\n      <v-row>\r\n        <v-col cols=\"12\" class=\"pt-0\">\r\n          <comments v-bind:type=\"1\" v-if=\"this.question.Id\" v-bind:parent=\"this.question.Id.toString()\" v-bind:comments=\"this.question.CommentList\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-card>\r\n    <answers v-if=\"this.question.AnswerList\" v-bind:parent=\"this.question.Id.toString()\" v-bind:answers=\"this.question.AnswerList\" />\r\n    <v-overlay :value=\"overlay\">\r\n      <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n    </v-overlay>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { DELETE_QUESTION, GET_QUESTION_BY_ID, CLOSE_QUESTION } from '../../../store/actions/question'\r\nimport comments from '../../../components/comments/comments'\r\nimport answers from '../../../components/answers/answers'\r\nimport votes from '../../../components/votes/votes.vue'\r\n\r\nexport default {\r\n  name: 'QuestionDetail',\r\n  data () {\r\n    return {\r\n      question: {},\r\n      activeUser: '',\r\n      overlay: false\r\n    }\r\n  },\r\n  components: {\r\n    comments,\r\n    answers,\r\n    votes\r\n  },\r\n  created () {\r\n    this.getQuestion()\r\n    this.activeUser = localStorage.getItem('currentUser') ? JSON.parse(localStorage.getItem('currentUser')).UserId : ''\r\n  },\r\n  methods: {\r\n    getQuestion: function () {\r\n      this.allQuestion = []\r\n      this.overlay = true\r\n      this.$store.dispatch(GET_QUESTION_BY_ID, { id: this.$route.query.id }).then(() => {\r\n        this.$store.getters.question.data.Response.CreateDate = this.formatDate(this.$store.getters.question.data.Response.CreateDate)\r\n        this.overlay = false\r\n        const question = this.$store.getters.question.data.Response\r\n        // answers date\r\n        question.AnswerList.forEach(answer => {\r\n          answer.CreateDate = this.formatDate(answer.CreateDate)\r\n          // answer > comment\r\n          answer.CommentList.forEach(comment => {\r\n            comment.CreateDate = this.formatDate(comment.CreateDate)\r\n          })\r\n        })\r\n\r\n        // question > comment\r\n        question.CommentList.forEach(com => {\r\n          com.CreateDate = this.formatDate(com.CreateDate)\r\n        })\r\n        // fill question\r\n        this.question = this.$store.getters.question.data.Response\r\n      })\r\n    },\r\n    formatDate (date) {\r\n      return moment(String(date)).format('DD/MM/YYYY')\r\n    },\r\n    deleteQuestion () {\r\n      this.overlay = true\r\n      this.$store.dispatch(DELETE_QUESTION, this.getParams()).then(response => {\r\n        this.overlay = false\r\n        this.$router.push('/')\r\n      }).catch(errorCode => { this.overlay = false; this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    pasiveQuestion () {\r\n      this.overlay = true\r\n      this.$store.dispatch(CLOSE_QUESTION, this.getParams()).then(response => {\r\n        this.overlay = false\r\n        this.getQuestion()\r\n      }).catch(errorCode => { this.overlay = false; this.$dialog.alert(this.GetErrorMessage(this, errorCode), this.alertoptions) })\r\n    },\r\n    getParams () {\r\n      return { Id: parseInt(this.$route.query.id), IsActive: this.question.IsActive }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.detail-text{\r\n  margin: 10px;\r\n  width: calc(100% - 22px);\r\n}\r\n.vote-icon{\r\n  position: absolute !important;\r\n}\r\n.down{\r\n  top:53px;\r\n}\r\n.up{\r\n  top:10px\r\n}\r\n.disable-down{\r\n  cursor: no-drop !important;\r\n}\r\n.disable-up{\r\n  cursor: no-drop !important;\r\n}\r\n.votes{\r\n  position: absolute;\r\n  top: 30px;\r\n  text-align: center;\r\n  width: 36px;\r\n}\r\n.detail{\r\n padding: 10px 20px;\r\n}\r\n.deleteQuestionBtn{\r\n  color:#980505d9 !important\r\n}\r\n</style>\r\n"]}]}